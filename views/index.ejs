<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title><%= title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/public/css/style.css" />
</head>
<body>

  <!-- μƒλ‹¨λ°” -->
  <header class="topbar">
    <div class="topbar-inner">

      <div class="logo">
        <span class="logo-mark">SW</span>
        <span class="logo-text">Sunwoong Portfolio Hub</span>
      </div>

      <!-- π”¥ κ΄€λ¦¬μ λ΅κ·ΈμΈ / λ΅κ·Έμ•„μ›ƒ λ²„νΌ -->
      <div class="auth-area">
        <% if (isAdmin) { %>
          <form action="/logout" method="post" class="auth-form">
            <button class="btn-secondary">λ΅κ·Έμ•„μ›ƒ</button>
          </form>
        <% } else { %>
          <a href="/login" class="btn-secondary">κ΄€λ¦¬μ λ΅κ·ΈμΈ</a>
        <% } %>
      </div>

    </div>
  </header>

  <!-- λ©”μΈ -->
  <main class="main">

    <!-- Hero -->
    <section class="hero">
      <div class="hero-inner">
        <p class="hero-kicker">Portfolio Board</p>
        <h1 class="hero-title">μ„ μ›…μ΄ ν¬νΈν΄λ¦¬μ¤ ν—λΈ</h1>
        <p class="hero-subtitle">
          λ‚΄κ°€ λ§λ“  ν”„λ΅μ νΈλ“¤μ„ ν¬νΈν΄λ¦¬μ¤ κΈ€ ν•νƒλ΅ μ •λ¦¬ν•κ³ , κ° κΈ€μ— μ‹¤μ  λ§ν¬λ¥Ό μ—°κ²°ν•΄μ„ κ΄€λ¦¬ν•λ” ν—λΈμ…λ‹λ‹¤.
        </p>
      </div>
    </section>

    <!-- λ©λ΅ + ν¬νΈν΄λ¦¬μ¤ μ¶”κ°€ λ²„νΌ -->
    <section class="projects-section">

      <div class="projects-header">

        <div class="projects-header-text">
          <h2 class="section-title">ν¬νΈν΄λ¦¬μ¤ λ©λ΅</h2>
          <p class="section-subtitle">
            λ‚΄κ°€ λ§λ“  ν¬νΈν΄λ¦¬μ¤λ¥Ό μΉ΄λ“ ν•νƒλ΅ μ •λ¦¬ν•κ³ , κ° κΈ€μ— μ‹¤μ  λ§ν¬λ¥Ό μ—°κ²°ν•΄μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.
          </p>
        </div>

        <!-- π”¥ κ΄€λ¦¬μλ§ λ³΄μ„ -->
        <% if (isAdmin) { %>
          <a href="/admin/write" class="btn-primary projects-add-btn">
            + ν¬νΈν΄λ¦¬μ¤ μ¶”κ°€
          </a>
        <% } %>

      </div>

      <div class="projects-grid">
        <% if (posts && posts.length > 0) { %>

          <% posts.forEach(function (post) { %>
            <article class="project-card">

              <div class="project-tag"># <%= post.id %></div>

              <h3 class="project-name">
                <a href="/post/<%= post.id %>" class="project-title-link">
                  <%= post.title %>
                </a>
              </h3>

              <% if (post.summary) { %>
                <p class="project-desc"><%= post.summary %></p>
              <% } %>

              <% if (post.link_url) { %>
                <p class="project-link-preview">
                  λ§ν¬: <span><%= post.link_url %></span>
                </p>
              <% } %>

              <div class="project-footer">
                <a href="/post/<%= post.id %>" class="project-link">
                  κΈ€ μμ„Έν λ³΄κΈ° β†’
                </a>
              </div>

            </article>
          <% }); %>

        <% } else { %>
          <p class="empty-text">
            λ“±λ΅λ ν¬νΈν΄λ¦¬μ¤ κΈ€μ΄ μ•„μ§ μ—†μµλ‹λ‹¤.
            <% if (isAdmin) { %>
              μ¤λ¥Έμ½μ β€ν¬νΈν΄λ¦¬μ¤ μ¶”κ°€β€ λ²„νΌμ„ λλ¬ μ²« κΈ€μ„ μ‘μ„±ν•΄λ³΄μ„Έμ”.
            <% } %>
          </p>
        <% } %>

      </div>
    </section>

  </main>

  <!-- ν‘Έν„° -->
  <footer class="footer">
    <div class="footer-inner">
      <span>Β© 2025 Sunwoong. All rights reserved.</span>
    </div>
  </footer>

</body>
</html>
